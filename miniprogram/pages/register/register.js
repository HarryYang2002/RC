"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
Page({
    redirectURL: '',
    data: {
        licImgURL: '',
        genders: ['未知', '男', '女', '其他'],
        genderIndex: 0,
        birthDate: '1970-01-01',
        licNo: '',
        name: '',
        state: 'UNSUBMITTED',
    },
    onUnloadLic() {
        wx.chooseMedia({
            success: res => {
                if (res.tempFiles.length > 0) {
                    this.setData({
                        licImgURL: res.tempFiles[0].tempFilePath
                    });
                    setTimeout(() => {
                        this.setData({
                            licNo: '13523463',
                            name: 'Harry',
                            genderIndex: 1,
                            birthDate: '2002-06-06'
                        });
                    }, 1000);
                }
            }
        });
    },
    onLoad(opt) {
        const o = opt;
        if (o.redirect) {
            this.redirectURL = decodeURIComponent(o.redirect);
        }
    },
    onGenderChange(e) {
        this.setData({
            genderIndex: e.detail.value,
        });
    },
    onBirthDateChange(e) {
        this.setData({
            birthDate: e.detail.value,
        });
    },
    onSubmit() {
        this.setData({
            state: 'PENDING',
        });
        setTimeout(() => {
            this.onLicVerified();
        }, 3000);
    },
    onResubmit() {
        this.setData({
            state: 'UNSUBMITTED',
            licImgURL: '',
        });
    },
    onLicVerified() {
        this.setData({
            state: 'VERIFIED',
        });
        if (this.redirectURL) {
            wx.redirectTo({
                url: this.redirectURL,
            });
        }
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVnaXN0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJyZWdpc3Rlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLElBQUksQ0FBQztJQUNKLFdBQVcsRUFBRSxFQUFFO0lBQ2YsSUFBSSxFQUFFO1FBQ0wsU0FBUyxFQUFFLEVBQUU7UUFDYixPQUFPLEVBQUUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUM7UUFDL0IsV0FBVyxFQUFFLENBQUM7UUFDZCxTQUFTLEVBQUUsWUFBWTtRQUN2QixLQUFLLEVBQUUsRUFBRTtRQUNULElBQUksRUFBRSxFQUFFO1FBQ1IsS0FBSyxFQUFFLGFBQXVEO0tBQzlEO0lBQ0QsV0FBVztRQUNWLEVBQUUsQ0FBQyxXQUFXLENBQUM7WUFDZCxPQUFPLEVBQUUsR0FBRyxDQUFDLEVBQUU7Z0JBQ2QsSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7b0JBQzdCLElBQUksQ0FBQyxPQUFPLENBQUM7d0JBQ1osU0FBUyxFQUFFLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWTtxQkFDeEMsQ0FBQyxDQUFBO29CQUNGLFVBQVUsQ0FBQyxHQUFHLEVBQUU7d0JBQ2YsSUFBSSxDQUFDLE9BQU8sQ0FBQzs0QkFDWixLQUFLLEVBQUUsVUFBVTs0QkFDakIsSUFBSSxFQUFFLE9BQU87NEJBQ2IsV0FBVyxFQUFFLENBQUM7NEJBQ2QsU0FBUyxFQUFFLFlBQVk7eUJBQ3ZCLENBQUMsQ0FBQTtvQkFDSCxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUE7aUJBQ1I7WUFDRixDQUFDO1NBQ0QsQ0FBQyxDQUFBO0lBQ0gsQ0FBQztJQUVELE1BQU0sQ0FBQyxHQUE4QjtRQUNwQyxNQUFNLENBQUMsR0FBMEIsR0FBRyxDQUFBO1FBQ3BDLElBQUksQ0FBQyxDQUFDLFFBQVEsRUFBRTtZQUNmLElBQUksQ0FBQyxXQUFXLEdBQUcsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFBO1NBQ2pEO0lBQ0YsQ0FBQztJQUVELGNBQWMsQ0FBQyxDQUFNO1FBQ3BCLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDWixXQUFXLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLO1NBQzNCLENBQUMsQ0FBQTtJQUNILENBQUM7SUFDRCxpQkFBaUIsQ0FBQyxDQUFNO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDWixTQUFTLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLO1NBQ3pCLENBQUMsQ0FBQTtJQUNILENBQUM7SUFDRCxRQUFRO1FBQ1AsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNaLEtBQUssRUFBRSxTQUFTO1NBQ2hCLENBQUMsQ0FBQTtRQUNGLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDZixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUE7UUFDckIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFBO0lBQ1QsQ0FBQztJQUNELFVBQVU7UUFDVCxJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ1osS0FBSyxFQUFFLGFBQWE7WUFDcEIsU0FBUyxFQUFFLEVBQUU7U0FDYixDQUFDLENBQUE7SUFDSCxDQUFDO0lBQ0QsYUFBYTtRQUNaLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDWixLQUFLLEVBQUUsVUFBVTtTQUNqQixDQUFDLENBQUE7UUFDRixJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDckIsRUFBRSxDQUFDLFVBQVUsQ0FBQztnQkFDYixHQUFHLEVBQUUsSUFBSSxDQUFDLFdBQVc7YUFDckIsQ0FBQyxDQUFBO1NBQ0Y7SUFFRixDQUFDO0NBQ0QsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcm91dGluZyB9IGZyb20gXCIuLi8uLi91dGlscy9yb3V0aW5nXCJcclxuXHJcblBhZ2Uoe1xyXG5cdHJlZGlyZWN0VVJMOiAnJyxcclxuXHRkYXRhOiB7XHJcblx0XHRsaWNJbWdVUkw6ICcnLFxyXG5cdFx0Z2VuZGVyczogWyfmnKrnn6UnLCAn55S3JywgJ+WlsycsICflhbbku5YnXSxcclxuXHRcdGdlbmRlckluZGV4OiAwLFxyXG5cdFx0YmlydGhEYXRlOiAnMTk3MC0wMS0wMScsXHJcblx0XHRsaWNObzogJycsXHJcblx0XHRuYW1lOiAnJyxcclxuXHRcdHN0YXRlOiAnVU5TVUJNSVRURUQnIGFzICdVTlNVQk1JVFRFRCcgfCAnUEVORElORycgfCAnVkVSSUZJRUQnLFxyXG5cdH0sXHJcblx0b25VbmxvYWRMaWMoKSB7XHJcblx0XHR3eC5jaG9vc2VNZWRpYSh7XHJcblx0XHRcdHN1Y2Nlc3M6IHJlcyA9PiB7XHJcblx0XHRcdFx0aWYgKHJlcy50ZW1wRmlsZXMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0dGhpcy5zZXREYXRhKHtcclxuXHRcdFx0XHRcdFx0bGljSW1nVVJMOiByZXMudGVtcEZpbGVzWzBdLnRlbXBGaWxlUGF0aFxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnNldERhdGEoe1xyXG5cdFx0XHRcdFx0XHRcdGxpY05vOiAnMTM1MjM0NjMnLFxyXG5cdFx0XHRcdFx0XHRcdG5hbWU6ICdIYXJyeScsXHJcblx0XHRcdFx0XHRcdFx0Z2VuZGVySW5kZXg6IDEsXHJcblx0XHRcdFx0XHRcdFx0YmlydGhEYXRlOiAnMjAwMi0wNi0wNidcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdH0sIDEwMDApXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdH0sXHJcblxyXG5cdG9uTG9hZChvcHQ6IFJlY29yZDxcInJlZGlyZWN0XCIsc3RyaW5nPikge1xyXG5cdFx0Y29uc3QgbyA6IHJvdXRpbmcuUmVnaXN0ZXJPcHRzID0gb3B0XHJcblx0XHRpZiAoby5yZWRpcmVjdCkge1xyXG5cdFx0XHR0aGlzLnJlZGlyZWN0VVJMID0gZGVjb2RlVVJJQ29tcG9uZW50KG8ucmVkaXJlY3QpXHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0b25HZW5kZXJDaGFuZ2UoZTogYW55KSB7XHJcblx0XHR0aGlzLnNldERhdGEoe1xyXG5cdFx0XHRnZW5kZXJJbmRleDogZS5kZXRhaWwudmFsdWUsXHJcblx0XHR9KVxyXG5cdH0sXHJcblx0b25CaXJ0aERhdGVDaGFuZ2UoZTogYW55KSB7XHJcblx0XHR0aGlzLnNldERhdGEoe1xyXG5cdFx0XHRiaXJ0aERhdGU6IGUuZGV0YWlsLnZhbHVlLFxyXG5cdFx0fSlcclxuXHR9LFxyXG5cdG9uU3VibWl0KCkge1xyXG5cdFx0dGhpcy5zZXREYXRhKHtcclxuXHRcdFx0c3RhdGU6ICdQRU5ESU5HJyxcclxuXHRcdH0pXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGhpcy5vbkxpY1ZlcmlmaWVkKClcclxuXHRcdH0sIDMwMDApXHJcblx0fSxcclxuXHRvblJlc3VibWl0KCkge1xyXG5cdFx0dGhpcy5zZXREYXRhKHtcclxuXHRcdFx0c3RhdGU6ICdVTlNVQk1JVFRFRCcsXHJcblx0XHRcdGxpY0ltZ1VSTDogJycsXHJcblx0XHR9KVxyXG5cdH0sXHJcblx0b25MaWNWZXJpZmllZCgpIHtcclxuXHRcdHRoaXMuc2V0RGF0YSh7XHJcblx0XHRcdHN0YXRlOiAnVkVSSUZJRUQnLFxyXG5cdFx0fSlcclxuXHRcdGlmICh0aGlzLnJlZGlyZWN0VVJMKSB7XHJcblx0XHRcdHd4LnJlZGlyZWN0VG8oe1xyXG5cdFx0XHRcdHVybDogdGhpcy5yZWRpcmVjdFVSTCxcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHJcblx0fVxyXG59KSJdfQ==